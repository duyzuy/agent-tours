!function(){"use strict";let Cell=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var e=tinymce.util.Tools.resolve("tinymce.PluginManager");let constant=e=>()=>e;var t=tinymce.util.Tools.resolve("tinymce.Env");let fireResizeEditor=e=>e.dispatch("ResizeEditor"),option=e=>t=>t.options.get(e),register$1=e=>{let t=e.options.register;t("autoresize_overflow_padding",{processor:"number",default:1}),t("autoresize_bottom_margin",{processor:"number",default:50})},o=option("min_height"),i=option("max_height"),s=option("autoresize_overflow_padding"),r=option("autoresize_bottom_margin"),isFullscreen=e=>e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen(),toggleScrolling=(e,t)=>{let o=e.getBody();o&&(o.style.overflowY=t?"":"hidden",t||(o.scrollTop=0))},parseCssValueToInt=(e,t,o,i)=>{var s;let r=parseInt(null!==(s=e.getStyle(t,o,i))&&void 0!==s?s:"",10);return isNaN(r)?0:r},shouldScrollIntoView=e=>(null==e?void 0:e.type.toLowerCase())==="setcontent"&&(!0===e.selection||!0===e.paste),resize=(e,r,n,l)=>{var g;let a=e.dom,u=e.getDoc();if(!u)return;if(isFullscreen(e)){toggleScrolling(e,!0);return}let d=u.documentElement,m=l?l():s(e),c=null!==(g=o(e))&&void 0!==g?g:e.getElement().offsetHeight,f=c,p=parseCssValueToInt(a,d,"margin-top",!0),h=parseCssValueToInt(a,d,"margin-bottom",!0),S=d.offsetHeight+p+h+m;S<0&&(S=0);let y=e.getContainer().offsetHeight,z=e.getContentAreaContainer().offsetHeight,C=y-z;S+C>c&&(f=S+C);let E=i(e);if(E&&f>E?(f=E,toggleScrolling(e,!0)):toggleScrolling(e,!1),f!==r.get()){let o=f-r.get();if(a.setStyle(e.getContainer(),"height",f+"px"),r.set(f),fireResizeEditor(e),t.browser.isSafari()&&(t.os.isMacOS()||t.os.isiOS())){let t=e.getWin();t.scrollTo(t.pageXOffset,t.pageYOffset)}e.hasFocus()&&shouldScrollIntoView(n)&&e.selection.scrollIntoView(),(t.browser.isSafari()||t.browser.isChromium())&&o<0&&resize(e,r,n,l)}},setup=(e,o)=>{let i,n,getExtraMarginBottom=()=>r(e);e.on("init",r=>{i=0;let n=s(e),l=e.dom;l.setStyles(e.getDoc().documentElement,{height:"auto"}),t.browser.isEdge()||t.browser.isIE()?l.setStyles(e.getBody(),{paddingLeft:n,paddingRight:n,"min-height":0}):l.setStyles(e.getBody(),{paddingLeft:n,paddingRight:n}),resize(e,o,r,getExtraMarginBottom),i+=1}),e.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",t=>{if(1===i)n=e.getContainer().offsetHeight,resize(e,o,t,getExtraMarginBottom),i+=1;else if(2===i){let t=n<e.getContainer().offsetHeight;if(t){let t=e.dom,o=e.getDoc();t.setStyles(o.documentElement,{"min-height":0}),t.setStyles(e.getBody(),{"min-height":"inherit"})}getExtraMarginBottom=t?constant(0):getExtraMarginBottom,i+=1}else resize(e,o,t,getExtraMarginBottom)})},register=(e,t)=>{e.addCommand("mceAutoResize",()=>{resize(e,t)})};e.add("autoresize",e=>{if(register$1(e),e.options.isSet("resize")||e.options.set("resize",!1),!e.inline){let t=Cell(0);register(e,t),setup(e,t)}})}();