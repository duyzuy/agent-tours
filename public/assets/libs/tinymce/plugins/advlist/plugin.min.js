!function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager");let e=(t,r,n)=>{t.execCommand("UL"===r?"InsertUnorderedList":"InsertOrderedList",!1,!1===n?null:{"list-style-type":n})},s=t=>r=>r.options.get(t),r=s("advlist_number_styles"),n=s("advlist_bullet_styles"),i=t=>null==t,l=t=>!i(t);var o=tinymce.util.Tools.resolve("tinymce.util.Tools");let a=class a{constructor(t,r){this.tag=t,this.value=r}static some(t){return new a(!0,t)}static none(){return a.singletonNone}fold(t,r){return this.tag?r(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?a.some(t(this.value)):a.none()}bind(t){return this.tag?t(this.value):a.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:a.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw Error(null!=t?t:"Called getOrDie on None")}static from(t){return l(t)?a.some(t):a.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}};a.singletonNone=new a(!1);let u=t=>r=>l(r)&&t.test(r.nodeName),d=u(/^(OL|UL|DL)$/),g=u(/^(TH|TD)$/),c=t=>i(t)||"default"===t?"":t,h=(t,r)=>n=>((t,r)=>{let n=t.selection.getNode();return r({parents:t.dom.getParents(n),element:n}),t.on("NodeChange",r),()=>t.off("NodeChange",r)})(t,o=>((t,o)=>{let p=t.selection.getStart(!0);n.setActive(((t,r,n)=>{for(let r=0,o=t.length;r<o;r++){let o=t[r];if(d(o)&&!/\btox\-/.test(o.className))return a.some(o);if(n(o,r))break}return a.none()})(o,0,g).exists(n=>n.nodeName===r&&t.dom.isChildOf(n,t.getBody()))),n.setEnabled(!((t,r)=>{let n=t.dom.getParent(r,"ol,ul,dl");return null!==n&&!t.dom.isEditable(n)&&t.selection.isEditable()})(t,p)&&t.selection.isEditable())})(t,o.parents)),m=(t,r,n,d,g,p)=>{p.length>1?((t,r,n,d,g,p)=>{t.ui.registry.addSplitButton(r,{tooltip:n,icon:"OL"===g?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:t=>{t(o.map(p,t=>{let r="OL"===g?"num":"bull",n="disc"===t||"decimal"===t?"default":t,o=c(t),d=t.replace(/\-/g," ").replace(/\b\w/g,t=>t.toUpperCase());return{type:"choiceitem",value:o,icon:"list-"+r+"-"+n,text:d}}))},onAction:()=>t.execCommand(d),onItemAction:(r,n)=>{e(t,g,n)},select:r=>{let n=(t=>{let r=t.dom.getParent(t.selection.getNode(),"ol,ul"),n=t.dom.getStyle(r,"listStyleType");return a.from(n)})(t);return n.map(t=>r===t).getOr(!1)},onSetup:h(t,g)})})(t,r,n,d,g,p):((t,r,n,o,d,g)=>{t.ui.registry.addToggleButton(r,{active:!1,tooltip:n,icon:"OL"===d?"ordered-list":"unordered-list",onSetup:h(t,d),onAction:()=>t.queryCommandState(o)||""===g?t.execCommand(o):e(t,d,g)})})(t,r,n,d,g,c(p[0]))};t.add("advlist",t=>{t.hasPlugin("lists")?((t=>{let r=t.options.register;r("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),r("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})})(t),m(t,"numlist","Numbered list","InsertOrderedList","OL",r(t)),m(t,"bullist","Bullet list","InsertUnorderedList","UL",n(t)),t.addCommand("ApplyUnorderedListStyle",(r,n)=>{e(t,"UL",n["list-style-type"])}),t.addCommand("ApplyOrderedListStyle",(r,n)=>{e(t,"OL",n["list-style-type"])})):console.error("Please use the Lists plugin together with the Advanced List plugin.")})}();